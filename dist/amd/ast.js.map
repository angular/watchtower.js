{"version":3,"file":"ast.js","sources":["@traceur/generated/TemplateParser/7","ast.js","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/10","@traceur/generated/TemplateParser/12","@traceur/generated/TemplateParser/11","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/2"],"names":[],"mappings":"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","sourcesContent":["define($__placeholder__0, $__placeholder__1);","import {\n  WatchRecord\n} from './change_detection';\n\nimport {\n  _Handler,\n  _ConstantHandler,\n  _InvokeHandler,\n  _FieldHandler,\n  _EvalWatchRecord\n} from './watch_record';\n\nfunction _argsList(list) {\n  if (!list) list = [];\n  if (!Array.isArray(list)) return '';\n  return list.join(', ');\n}\n\nexport class AST {\n  constructor(expression) {\n    if (typeof expression !== \"string\") throw \"expression must be a string\";\n    this.expression = expression.indexOf('#.') === 0\n                    ? expression.substr(2)\n                    : expression;\n  }\n\n  setupWatch(group) {\n    throw \"setupWatch() not implemented\";\n  }\n\n  toString() {\n    return this.expression;\n  }\n}\n\nAST._CONTEXT = '#';\n\nexport class ContextReferenceAST extends AST {\n  constructor() {\n    super(AST._CONTEXT);\n  }\n\n  setupWatch(group) {\n    return new _ConstantWatchRecord(group, this.expression, group.context);\n  }\n}\n\nexport class ConstantAST extends AST {\n  constructor(constant, expression) {\n    if (arguments.length < 2) expression = null;\n    super(expression === null\n        ? (typeof constant === \"string\" ? '\"' + constant + '\"' : '' + constant)\n        : expression);\n    this.constant = constant;\n  }\n\n  setupWatch(group) {\n    return new _ConstantWatchRecord(group, this.expression, this.constant);\n  }\n}\n\nexport class FieldReadAST extends AST {\n  constructor(lhs, name) {\n    this.lhs = lhs;\n    this.name = name;\n    super(this.lhs + '.' + this.name);\n  }\n\n  setupWatch(group) {\n    return group.addFieldWatch(this.lhs, this.name, this.expression);\n  }\n}\n\nexport class PureFunctionAST extends AST {\n  constructor(name, fn, argsAST) {\n    this.fn = fn;\n    this.argsAST = argsAST;\n    this.name = name;\n    super(name + '(' + _argsList(argsAST) + ')');\n  }\n\n  setupWatch(group) {\n    return group.addFunctionWatch(this.fn, this.argsAST, this.expression);\n  }\n}\n\nexport class MethodAST extends AST {\n  constructor(lhsAST, name, argsAST) {\n    this.lhsAST = lhsAST;\n    this.name = name;\n    this.argsAST = argsAST;\n    super(lhsAST + '.' + name + '(' + _argsList(argsAST) + ')');\n  }\n\n  setupWatch(group) {\n    return group.addMethodWatch(this.lhsAST, this.name, this.argsAST, this.expression);\n  }\n}\n\nexport class CollectionAST extends AST {\n  constructor(valueAST) {\n    this.valueAST = valueAST;\n    super('#collection(' + valueAST + ')');\n  }\n\n  setupWatch(group) {\n    return group.addCollectionWatch(this.valueAST);\n  }\n}\n\nclass _ConstantWatchRecord extends WatchRecord {\n  constructor(watchGroup, expression, currentValue) {\n    this.currentValue = currentValue;\n    this.handler = new _ConstantHandler(watchGroup, expression, currentValue);\n  }\n\n  check() {\n    return false;\n  }\n\n  remove() {\n    return null;\n  }\n\n  get field() {\n    return null;\n  }\n\n  get previousValue() {\n    return null;\n  }\n\n  get object() {\n    return null;\n  }\n\n  set object(value) {\n    return null;\n  }\n\n  get nextChange() {\n    return null;\n  }\n}\n","function($__placeholder__0) {\n      $__placeholder__1\n    }","var __moduleName = $__placeholder__0;","if (!$__placeholder__0 || !$__placeholder__1.__esModule)\n            $__placeholder__2 = { 'default': $__placeholder__3 }","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","$traceurRuntime.superCall($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                   $__placeholder__3)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","return $__placeholder__0","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true"]}