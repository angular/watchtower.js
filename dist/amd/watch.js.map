{"version":3,"file":"watch.js","sources":["@traceur/generated/TemplateParser/7","watch.js","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/3","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/2"],"names":[],"mappings":"AAAA,MAAM,ECEC,eAAe,ECFtB,UAAS,IAAiB;;ACAtB,CAAJ,IAAI,CAAA,YAAY,UAAoB,CAAC;CCArC,KAAI,KAAkB,GAAI,EAAC,eAA4B;AAC3C,CAAA,SAAoB,EAAE,SAAS,MAAmB,CAAE,CAAA;CAAA;ACD5D,CAAJ,IAAI,QJIG,SAAM,MAAK,CACJ,UAAU,CAAE,CAAA,MAAM,CAAE,CAAA,UAAU,CAAE;AAC1C,CAAA,OAAI,eAAe,EAAG,CAAA,IAAI,WAAW,EAAG,KAAI,CAAC;AAC7C,CAAA,OAAI,YAAY,EAAG,WAAU,CAAC;AAC9B,CAAA,OAAI,QAAQ,EAAG,OAAM,CAAC;AACtB,CAAA,OAAI,WAAW,EAAG,WAAU,CAAC;AAC7B,CAAA,OAAI,OAAO,EAAG,CAAA,IAAI,SAAS,EAAG,MAAK,CAAC;AACpC,CAAA,OAAI,gBAAgB,EAAG,KAAI,CAAC;GIXS,AJYtC,CIZsC;ACAzC,CAAA,EAAC,eAAe,YAAY,CAAC;CLc3B,MAAI,WAAU,EAAG;CACf,WAAO,CAAA,IAAI,QAAQ,QAAQ,WAAW,CAAC;KACxC;CAED,SAAM,CAAN,UAAO,CAAE;CACP,SAAI,IAAI,SAAS,GAAI,EAAC,IAAI,OAAO;CAAE,cAAO;AAC1C,CAD0C,SACtC,OAAO,EAAG,MAAK,CAAC;AACpB,CAAA,SAAI,WAAW,CAAC,IAAI,QAAQ,aAAa,CAAE,CAAA,IAAI,QAAQ,cAAc,CAAC,CAAC;KACxE;CAED,SAAM,CAAN,UAAO,CAAE;CACP,SAAI,IAAI,SAAS;CAAE,YAAM,IAAI,MAAK,CAAC,kBAAkB,CAAC,CAAC;AACvD,CADuD,SACnD,SAAS,EAAG,KAAI,CAAC;AACjB,CAAJ,QAAI,CAAA,OAAO,EAAG,CAAA,IAAI,QAAQ,QAAQ,CAAC;AACnC,CAAA,eAAU,QAAQ,CAAC,OAAO,CAAE,KAAI,CAAC,CAAC;AAClC,CAAA,YAAO,QAAQ,EAAE,CAAC;KACnB;CAAA,OK9BmF;CCAtF;CCAA,cAAwB;CAAE,kBAAyB;KAAE;ACArD,CAAA,aAAU,CAAE,KAAI;CAAA,GFAQ;CLEnB,CFFuC,CAAC;CCgC7C","sourcesContent":["define($__placeholder__0, $__placeholder__1);","import {\n  _WatchList\n} from './linked_list';\n\nexport class Watch {\n  constructor(watchGroup, record, reactionFn) {\n    this._previousWatch = this._nextWatch = null;\n    this._watchGroup = watchGroup;\n    this._record = record;\n    this.reactionFn = reactionFn;\n    this._dirty = this._deleted = false;\n    this._nextDirtyWatch = null;\n  }\n\n  get expression() {\n    return this._record.handler.expression;\n  }\n\n  invoke() {\n    if (this._deleted || !this._dirty) return;\n    this._dirty = false;\n    this.reactionFn(this._record.currentValue, this._record.previousValue);\n  }\n\n  remove() {\n    if (this._deleted) throw new Error('Already deleted!');\n    this._deleted = true;\n    var handler = this._record.handler;\n    _WatchList._remove(handler, this);\n    handler.release();\n  }\n}\n","function($__placeholder__0) {\n      $__placeholder__1\n    }","var __moduleName = $__placeholder__0;","if (!$__placeholder__0 || !$__placeholder__1.__esModule)\n            $__placeholder__2 = { 'default': $__placeholder__3 }","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","return $__placeholder__0","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true"]}